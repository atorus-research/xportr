<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Getting Started • xportr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/yeti/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Getting Started">
<meta property="og:description" content="xportr">
<meta property="og:image" content="/reference/figures/xportr_rev.png">
<meta property="og:image:alt" content="xportr Hex Sticker">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">xportr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.0.9001</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/xportr.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/atorus-research/xportr/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="xportr_files/accessible-code-block-0.0.1/empty-anchor.js"></script><script src="xportr_files/htmlwidgets-1.5.4/htmlwidgets.js"></script><link href="xportr_files/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="xportr_files/datatables-binding-0.23/datatables.js"></script><link href="xportr_files/dt-core-1.11.3/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="xportr_files/dt-core-1.11.3/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="xportr_files/dt-core-1.11.3/js/jquery.dataTables.min.js"></script><link href="xportr_files/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="xportr_files/crosstalk-1.2.0/js/crosstalk.min.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Getting Started</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/atorus-research/xportr/blob/HEAD/vignettes/xportr.Rmd" class="external-link"><code>vignettes/xportr.Rmd</code></a></small>
      <div class="hidden name"><code>xportr.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="what-we-will-cover">What we will cover<a class="anchor" aria-label="anchor" href="#what-we-will-cover"></a>
</h2>
<p><br></p>
<p>We will demonstrate the 6 main functions within <code>xportr</code>:</p>
<ul>
<li>xportr_type()</li>
<li>xportr_length()</li>
<li>xportr_label()</li>
<li>xportr_df_label()</li>
<li>xportr_varnames()</li>
<li>xportr_write()</li>
</ul>
<p>The demo will make use of a small <strong>adsl</strong> data set that is included in this package. Other vignettes within this package make use of the <a href="https://github.com/atorus-research/CDISC_pilot_replication" class="external-link">CDISC Pilot Study Data</a>.</p>
<p>The <strong>adsl</strong> has the following features:</p>
<ul>
<li>24 observations</li>
<li>23 variables</li>
<li>Data types other than character and numeric</li>
<li>No labels on variables</li>
<li>No label for data set</li>
</ul>
<p><br></p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://haven.tidyverse.org" class="external-link">haven</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://larmarange.github.io/labelled/" class="external-link">labelled</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/atorus-research/xportr" class="external-link">xportr</a></span><span class="op">)</span>


<span class="va">adsl</span> <span class="op">&lt;-</span> <span class="fu">haven</span><span class="fu">::</span><span class="fu"><a href="https://haven.tidyverse.org/reference/read_sas.html" class="external-link">read_sas</a></span><span class="op">(</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"adsl.sas7bdat"</span>, package<span class="op">=</span><span class="st">"xportr"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><br></p>
<div id="htmlwidget-0d5cb45a3c098475acce" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-0d5cb45a3c098475acce">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24"],["mid987650","mid987650","mid987650","mid987650","mid987650","mid987650","mid987650","mid987650","mid987650","mid987650","mid987650","mid987650","mid987650","mid987650","mid987650","mid987650","mid987650","mid987650","mid987650","mid987650","mid987650","mid987650","mid987650","mid987650"],[214356,214356,214356,214356,214356,214356,214356,214356,214356,214356,214356,214356,214356,214356,214356,214356,214356,214356,214356,214356,214356,214356,214356,214356],["987650.000001","987650.000002","987650.000003","987650.000004","987650.000005","987650.000006","987650.000007","987650.000008","987650.000009","987650.000010","987650.000011","987650.000012","987650.000013","987650.000014","987650.000015","987650.000016","987650.000017","987650.000018","987650.000019","987650.000020","987650.000021","987650.000022","987650.000023","987650.000024"],[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24],["USA","USA","USA","USA","USA","USA","USA","USA","USA","USA","USA","USA","USA","USA","USA","USA","USA","USA","USA","USA","USA","USA","USA","USA"],["UNITED STATES","UNITED STATES","UNITED STATES","UNITED STATES","UNITED STATES","UNITED STATES","UNITED STATES","UNITED STATES","UNITED STATES","UNITED STATES","UNITED STATES","UNITED STATES","UNITED STATES","UNITED STATES","UNITED STATES","UNITED STATES","UNITED STATES","UNITED STATES","UNITED STATES","UNITED STATES","UNITED STATES","UNITED STATES","UNITED STATES","UNITED STATES"],[35,62,27,42,59,28,31,43,35,62,27,42,60,30,31,43,35,62,27,42,59,28,31,43],["YEARS","YEARS","YEARS","YEARS","YEARS","YEARS","YEARS","YEARS","YEARS","YEARS","YEARS","YEARS","YEARS","YEARS","YEARS","YEARS","YEARS","YEARS","YEARS","YEARS","YEARS","YEARS","YEARS","YEARS"],["M","M","F","M","F","M","F","F","M","M","F","M","F","M","F","F","M","M","F","M","F","M","F","F"],["ASIAN","WHITE","ASIAN","ASIAN","WHITE","WHITE","ASIAN","WHITE","ASIAN","WHITE","ASIAN","ASIAN","WHITE","WHITE","ASIAN","WHITE","ASIAN","WHITE","ASIAN","ASIAN","WHITE","WHITE","ASIAN","WHITE"],[2,1,2,2,1,1,2,1,2,1,2,2,1,1,2,1,2,1,2,2,1,1,2,1],[88,82,56,72,60,70,56,57,88,82,56,72,60,70,56,57,88,82,56,72,60,70,56,57],["Active","Active","Active","Active","Active","Placebo","Placebo","Placebo","Active","Active","Active","Active","Active","Placebo","Placebo","Placebo","Active","Active","Active","Active","Active","Placebo","Placebo","Placebo"],[1,1,1,1,1,2,2,2,1,1,1,1,1,2,2,2,1,1,1,1,1,2,2,2],["Y","Y","Y","Y","Y","Y","Y","Y","Y","Y","Y","Y","Y","Y","Y","Y","Y","Y","Y","Y","Y","Y","Y","Y"],["2018-04-08","2018-04-11","2018-04-11","2018-04-11","2018-04-13","2018-04-14","2018-04-14","2018-04-18","2018-04-08","2018-04-11","2018-04-11","2018-04-11","2018-04-13","2018-04-14","2018-04-14","2018-04-18","2018-04-08","2018-04-11","2018-04-11","2018-04-11","2018-04-13","2018-04-14","2018-04-14","2018-04-18"],["2018-04-08","2018-04-11","2018-04-11","2018-04-11","2018-04-14","2018-04-14","2018-04-14","2018-04-18","2018-04-08","2018-04-11","2018-04-11","2018-04-11","2018-04-14","2018-04-14","2018-04-14","2018-04-18","2018-04-08","2018-04-11","2018-04-11","2018-04-11","2018-04-14","2018-04-14","2018-04-14","2018-04-18"],["2018-04-08","2018-04-11","2018-04-11","2018-04-11","2018-04-13","2018-04-14","2018-04-14","2018-04-18","2018-04-08","2018-04-11","2018-04-11","2018-04-11","2018-04-13","2018-04-14","2018-04-14","2018-04-18","2018-04-08","2018-04-11","2018-04-11","2018-04-11","2018-04-13","2018-04-14","2018-04-14","2018-04-18"],["14:35:00","10:47:00","13:06:00","17:38:00","19:15:00","11:30:00","20:45:00","16:09:00","14:35:00","10:47:00","13:06:00","17:38:00","19:15:00","11:30:00","20:45:00","16:09:00","14:35:00","10:47:00","13:06:00","17:38:00","19:15:00","11:30:00","20:45:00","16:09:00"],["2018-04-22","2018-04-24","2018-04-24","2018-04-24","2018-04-27","2018-04-27","2018-04-16","2018-05-01","2018-04-22","2018-04-24","2018-04-24","2018-04-24","2018-04-27","2018-04-27","2018-04-16","2018-05-01","2018-04-22","2018-04-24","2018-04-24","2018-04-24","2018-04-27","2018-04-27","2018-04-16","2018-05-01"],["09:17:00","09:17:00","12:24:00","10:01:00","09:46:00","14:06:00","09:14:00","15:00:00","09:17:00","09:17:00","12:24:00","10:01:00","09:46:00","14:06:00","09:14:00","15:00:00","09:17:00","09:17:00","12:24:00","10:01:00","09:46:00","14:06:00","09:14:00","15:00:00"],["1983-06-30","1956-06-30","1991-06-30","1976-06-30","1959-06-30","1990-06-30","1987-06-30","1975-06-30","1983-06-30","1956-06-30","1991-06-30","1976-06-30","1958-06-30","1988-06-30","1987-06-30","1975-06-30","1983-06-30","1956-06-30","1991-06-30","1976-06-30","1959-06-30","1990-06-30","1987-06-30","1975-06-30"],[1983,1956,1991,1976,1959,1990,1987,1975,1983,1956,1991,1976,1958,1988,1987,1975,1983,1956,1991,1976,1959,1990,1987,1975]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>STUDYID<\/th>\n      <th>SITEID<\/th>\n      <th>USUBJID<\/th>\n      <th>SUBJID<\/th>\n      <th>COUNTRY<\/th>\n      <th>ACOUNTRY<\/th>\n      <th>AGE<\/th>\n      <th>AGEU<\/th>\n      <th>SEX<\/th>\n      <th>RACE<\/th>\n      <th>RACEN<\/th>\n      <th>WEIGHTBL<\/th>\n      <th>TRT01A<\/th>\n      <th>TRT01AN<\/th>\n      <th>SAFFL<\/th>\n      <th>SCRDT<\/th>\n      <th>RANDDT<\/th>\n      <th>TRTSDT<\/th>\n      <th>TRTSTM<\/th>\n      <th>TRTEDT<\/th>\n      <th>TRTETM<\/th>\n      <th>BRTHDT<\/th>\n      <th>BRTHDTC<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"autoWidth":false,"scrollX":true,"pageLength":5,"lengthMenu":[5,10,15,20],"columnDefs":[{"className":"dt-right","targets":[2,4,7,11,12,14,23]},{"orderable":false,"targets":0}],"order":[],"orderClasses":false}},"evals":[],"jsHooks":[]}</script><p><br></p>
</div>
<div class="section level2">
<h2 id="preparing-your-specification-files">Preparing your Specification Files<a class="anchor" aria-label="anchor" href="#preparing-your-specification-files"></a>
</h2>
<p><br></p>
<p>In order to make use of the functions within <code>xportr</code> you will need to create two R data frame objects that contain your data set specifications. For our examples, we have referenced specifications files contained in the package. Here we have called those two objects <strong>var_spec</strong> and <strong>data_spec</strong>. Please note, the change of variable names for each. You will most likely need to do some pre-processing of your spec sheets after loading in the spec files for them to work appropriately with the <code>xportr</code> functions.</p>
<p><br></p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">var_spec</span> <span class="op">&lt;-</span> <span class="fu">readxl</span><span class="fu">::</span><span class="fu"><a href="https://readxl.tidyverse.org/reference/read_excel.html" class="external-link">read_xlsx</a></span><span class="op">(</span>
  <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"specs"</span>, <span class="st">"ADaM_spec.xlsx"</span>, package<span class="op">=</span><span class="st">"xportr"</span><span class="op">)</span>, sheet <span class="op">=</span> <span class="st">"Variables"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span>type <span class="op">=</span> <span class="st">"Data Type"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu">rlang</span><span class="fu">::</span><span class="fu"><a href="https://rlang.r-lib.org/reference/set_names.html" class="external-link">set_names</a></span><span class="op">(</span><span class="va">tolower</span><span class="op">)</span> 
  
<span class="va">data_spec</span> <span class="op">&lt;-</span> <span class="fu">readxl</span><span class="fu">::</span><span class="fu"><a href="https://readxl.tidyverse.org/reference/read_excel.html" class="external-link">read_xlsx</a></span><span class="op">(</span>
  <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"specs"</span>, <span class="st">"ADaM_spec.xlsx"</span>, package<span class="op">=</span><span class="st">"xportr"</span><span class="op">)</span>, sheet <span class="op">=</span> <span class="st">"Datasets"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu">rlang</span><span class="fu">::</span><span class="fu"><a href="https://rlang.r-lib.org/reference/set_names.html" class="external-link">set_names</a></span><span class="op">(</span><span class="va">tolower</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span>label <span class="op">=</span> <span class="st">"description"</span><span class="op">)</span></code></pre></div>
<p><br></p>
<p>The spec file within this package contains 34 of the most CDISC ADaM data sets. Below is a quick snapshot of the specification file pertaining to the <strong>adsl</strong> data set, which we will make use of in the 5 <code>xportr</code> functions below.</p>
<p><br></p>
<div id="htmlwidget-dcfff1f148ff2bb08f50" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-dcfff1f148ff2bb08f50">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124"],[740,741,742,743,744,745,746,747,748,749,750,751,752,753,754,755,756,757,758,759,760,761,762,763,764,765,766,767,768,769,770,771,772,773,774,775,776,777,778,779,780,781,782,783,784,785,786,787,788,789,790,791,792,793,794,795,796,797,798,799,800,801,802,803,804,805,806,807,808,809,810,811,812,813,814,815,816,817,818,819,820,821,822,823,824,825,826,827,828,829,830,831,832,833,834,835,836,837,838,839,840,841,842,843,844,845,846,847,848,849,850,851,852,853,854,855,856,857,858,859,860,861,862,863],["ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL"],["ARM","ARMCD","TRT01A","TRT01P","TRT01AN","TRT01PN","TRTSEQA","TRTSEQAN","TRTSEQP","TRTSEQPN","COMPLFL","ENRLFL","FASFL","ITTFL","PKFL","PPROTFL","RANDFL","SAFFL","SUBJID","POPyFL","TR01EDTM","TR01SDTM","TR01EDT","TR01SDT","TRTEDTM","TRTSDTM","TRTEDT","TRTSDT","EXPDYTOT","EXPDYACT","EXPGR1","DISALLFL","RECIPFL","RECSDFL","PK02FL","COHORT","GROUP01","DTHDTC","DTHDY","COMPTRFL","CORDOSFL","DTHFL","AGEGR1","BMIBL","BMIU","MDRESC","DALVL1","EXDURCAT","HEIGHTBL","HEIGHTU","WEIGHTBL","WEIGHTU","SEX","AGE","AGEU","AAGE","RACE","REGIONy","COUNTRY","ACTARMCD","ACTARM","RANDDT","RANDDTC","COVARy","SITEIDN","SITEID","STUDYID","USUBJID","EFISPLFL","EFIHEMFL","EFITRAFL","EFIPLAFL","EFIANCFL","EFIIWGFL","SMOKSTAT","FSYMSDIY","FDIASDIY","RECADFL","RECADFLD","PKXL","SAFXL","EFIIWGXL","MITTFL","MMITTFL","MEFL","MMDFL","BPBLFL","DTHDT","DTHDTF","DTHILDY","TRTDURFD","BMIBLG1","BMIBLG1N","WGHTBLG1","ENRLDT","RFICDT","EOSDT","EOSSTT","EOTSTT","LSTALVDT","TRCMP","STRATA","STRATAN","STRATy","STRATyN","DCSREAS","DCTREAS","DCUTDESC","DCUTDT","RACEGRy","RACEGRyN","RFICyDT","TRxxAGy","TRxxAGyN","EXACSTDT","EXACSTDD","EXACSTDY","EXNPxxM","EXNPxxMC","FENOBLGy","EOSBLGy","ICSENTGx","OCSSTEN","OCSENTGx"],["Description of Planned Arm","Planned Arm Code","Actual Treatment for Period 01","Planned Treatment for Period 01","Actual Treatment for Period 01 (N)","Planned Treatment for Period 01 (N)","Actual Sequence of Treatments","Actual Sequence of Treatments (N)","Planned Sequence of Treatments","Planned Sequence of Treatments (N)","Completers Population Flag","Enrolled Population Flag","Full Analysis Set Population Flag","Intent-To-Treat Population Flag","Pharmaco-Kinetics Population Flag","Per-Protocol Population Flag","Randomized Population Flag","Safety Population Flag","Subject Identifier for the Study","Population y Flag","Datetime of Last Exposure in Period 01","Datetime of First Exposure in Period 01","Date of Last Exposure in Period 01","Date of First Exposure in Period 01","Datetime of Last Exposure to Treatment","Datetime of First Exposure to Treatment","Date of Last Exposure to Treatment","Date of First Exposure to Treatment","Exposure (days)","Actual Exposure (days)","Pooled Exposure Group 1","Disallowed Medication Flag","Subject Received Investigational Product","Subject Received Study Drug","Pharmaco-Kinetics Population Flag 2","Cohort","Grouping Variable 01","Date / Time of Death","Study Day of Death","Subject Completed Treatment","Subject Received All Correct Dosing","Subject Death Flag","Pooled Age Group 1","Baseline Body Mass Index","Body Mass Index Units","Mean Daily Intake (mg) of Rescue Med","Drug Accountability Level","Duration of Treatment, Categorized","Baseline Height","Height Units","Baseline Weight","Weight Units","Sex","Age","Age Units","Analysis Age","Race","Geographic Region y","Country","Actual Arm Code","Description of Actual Arm","Date of Randomization","Date of Randomization (C)","Covariate y","Study Site Identifier (N)","Study Site Identifier","Study Identifier","Unique Subject Identifier","Eval. for CI in spleen size pop. flag","Eval. for CI in hemoglobin pop. flag","Eval. for CI in transfusion pop. flag","Eval. for CI in platelets pop. flag","Eval. for CI in ANC pop. flag","Eval. for CI in any IWG crit. pop. flag","Smoking Status","Years Since First Symptom, Study Disease","Yrs Since First Diagnose, Study Disease","Subject Received Additional Drug","Reason Subject did not Receive AD","Reason for Excl from PK Pop","Reason for Excl. from Safety Pop","Reason for Excl.from Eval. for CI Pop","Modified ITT Population Flag","Micro Modified ITT Population","Microbiologically Eval. Population Flag","Minimal Disease Criteria Flag","Bacterial Pathogen at Baseline Flag","Date of Death","Date of Death Imputation Flag","Study Day of Death Relative to Last IP","Total Duration of Trt inc FU (days)","Pooled Baseline BMI (kg/m**2) Grouping 1","Pooled Baseline BMI (kg/m**2) Grouping 1 (N)","'Pooled Baseline Weight (kg) Grouping 1","Date of Enrollment","Date of Informed Consent","End of Study Date","End of Study Status","End of Treatment Status","Date Last Known Alive","Treatment Compliance (%)","Randomized Strata","Randomized Strata (N)","Randomized Value of Stratum y","Randomized Value of Stratum y (N)","Reason for Discontinuation from Study","Reason for Discontinuation of Treatment","Data Cutoff Description","Data Cutoff Date","Pooled Race Group y","Pooled Race Group y (N)","Date of Informed Consent y","Actual Pooled Treatment y for Period xx","Actual Pooled Trt y for Period xx (N)","Last Date Exacerbation Status Known","Last Date Exacerbation Status Known, Description","Last Day Exacerbation Status Known","Number of exacerb. Prev. xx months","No of exacerb. Prev. xx mon. Categorized","Pooled Baseline FeNO Grouping y","Pooled Baseline Eosinophils Grouping y","Pooled ICS level at entry Grouping y","OCS status at study entry","Pooled OCS level at entry Grouping y"],["Char","Char","Char","Char","Num","Num","Char","Num","Char","Num","Char","Char","Char","Char","Char","Char","Char","Char","Char","Char","Num","Num","Num","Num","Num","Num","Num","Num","Num","Num","Char","Char","Char","Char","Char","Char","Char","Char","Num","Char","Char","Char","Char","Num","Char","NUM","Char","Char","Num","Char","Num","Char","Char","Num","Char","Num","Char","Char","Char","Char","Char","Num","Char","Num","Num","Char","Char","Char","Char","Char","Char","Char","Char","Char","Char","Num","Num","Char","Char","Char","Char","Char","Char","Char","Char","Char","Char","Num","Char","Num","Num","Char","Num","Char","Num","Num","Num","Char","Char","Num","Num","Char","Num","Char","Num","Char","Char","Char","Num","Char","Num","Num","Char","Num","Num","Char","Num","Num","Char","Char","Char","Char","Char","Char"],[200,20,40,40,8,8,200,8,200,8,2,2,2,2,2,2,2,2,8,2,8,8,8,8,8,8,8,8,8,8,20,2,2,2,2,2,40,19,8,2,2,2,20,8,200,8,20,20,8,200,8,200,1,8,10,8,60,80,3,20,200,8,19,8,8,5,21,30,2,2,2,2,2,2,20,8,8,2,200,200,200,200,2,2,2,2,2,8,2,8,8,20,8,20,8,8,8,200,200,8,8,200,8,200,8,200,200,200,8,200,8,8,200,8,8,200,8,8,40,40,40,40,40,40],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,"NY","NY","NY","NY","NY","NY","NY","NY",null,"NY",null,null,null,null,null,null,null,null,null,null,null,"NY","NY","NY","NY",null,null,"DATEFL (C81223)",null,"NY","NY","NY",null,null,null,null,null,null,null,null,null,null,"SEX",null,"AGEU",null,"RACE",null,"COUNTRY",null,null,null,"DATEFL (C81223)",null,null,null,null,null,"NY","NY","NY","NY","NY","NY",null,null,null,"NY",null,null,null,null,"NY","NY","NY","NY","NY",null,"ISO 8601",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"EXACSTDT","EXACSTDD",null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],["Copied","Copied","Derived","Derived","Derived","Derived","Derived","Derived","Derived","Derived","Derived","Derived","Derived","Derived","Derived","Derived","Derived","Derived","Source","Derived","Derived","Derived","Derived","Derived","Derived","Derived","Derived","Derived","Derived","Derived","Derived","Derived","Derived","Derived","Derived","Derived","Derived","Source","Source","Derived","Derived","Source","Derived","Derived","Derived","Derived","Derived","Derived","Derived","Derived","Derived","Derived","Source","Source","Source","Derived","Source","Derived","Source","Source","Source","Derived","Source","Derived","Derived","Copied","Source","Source","Derived","Derived","Derived","Derived","Derived","Derived","Derived","Derived","Derived","Derived","Derived","Derived","Derived","Derived","Derived","Derived","Derived","Derived","Derived","Derived","Derived","Derived","Derived","Derived","Derived","Derived","Derived","Derived","Derived","Derived","Derived","Derived","Derived","Derived","Derived","Derived","Derived","Derived","Derived","Derived","Derived","Derived","Derived","Derived","Derived","Derived","Derived","Derived","Derived","Derived","Derived","Derived","Derived","Derived","Derived","Derived"],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],["Req","Perm","Cond","Req","Perm","Perm","Cond","Perm","Cond","Perm","Cond","Cond","Cond","Cond","Cond","Cond","Cond","Cond","Req","Perm","Cond","Cond","Cond","Cond","Cond","Cond","Cond","Cond","Perm","Perm","Perm","Perm","Cond","Perm","Perm","Perm","Perm","Perm","Perm","Perm","Perm","Perm","Perm","Perm","Perm","Perm","Perm","Perm","Perm","Perm","Perm","Perm","Req","Req","Req","Cond","Req","Perm","Perm","Perm","Perm","Cond","Cond","Perm","Perm","Req","Req","Req","Perm","Perm","Perm","Perm","Perm","Perm","Perm","Perm","Perm","Perm","Perm","Perm","Perm","Perm","Cond","Cond","Cond","Cond","Cond","Perm","Cond","Perm","Perm","Perm","Perm","Perm","Perm","Perm","Perm","Perm","Perm","Perm","Perm","Cond","Perm","Perm","Perm","Perm","Perm","Perm","Perm","Perm","Perm","Perm","Cond","Perm","Cond","Cond","Cond","Perm","Cond","Perm","Perm","Perm","Perm","Perm"],["ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL","ADSL"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>order<\/th>\n      <th>dataset<\/th>\n      <th>variable<\/th>\n      <th>label<\/th>\n      <th>type<\/th>\n      <th>length<\/th>\n      <th>significant digits<\/th>\n      <th>format<\/th>\n      <th>mandatory<\/th>\n      <th>codelist<\/th>\n      <th>origin<\/th>\n      <th>pages<\/th>\n      <th>method<\/th>\n      <th>predecessor<\/th>\n      <th>role<\/th>\n      <th>comment<\/th>\n      <th>derivation rule<\/th>\n      <th>core<\/th>\n      <th>adslcore<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"autoWidth":false,"scrollX":true,"pageLength":5,"lengthMenu":[5,10,15,20],"columnDefs":[{"className":"dt-right","targets":[1,6]},{"orderable":false,"targets":0}],"order":[],"orderClasses":false}},"evals":[],"jsHooks":[]}</script><p><br></p>
</div>
<div class="section level2">
<h2 id="xportr_type">xportr_type<a class="anchor" aria-label="anchor" href="#xportr_type"></a>
</h2>
<p><br></p>
<p>In order to be compliant with transport v5 specifications an <code>xpt</code> file can only have two data types: character and numeric/dbl. Currently the <strong>adsl</strong> data set has chr, dbl, time and date.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="kw">look_for</span>(adsl, <span class="dt">details =</span> <span class="ot">TRUE</span>)</span>
<span id="cb3-2"><a href="#cb3-2"></a>   pos variable label col_type values                              </span>
<span id="cb3-3"><a href="#cb3-3"></a>   <span class="dv">1</span>   STUDYID  —     chr      range<span class="op">:</span><span class="st"> </span>mid987650 <span class="op">-</span><span class="st"> </span>mid987650        </span>
<span id="cb3-4"><a href="#cb3-4"></a>   <span class="dv">2</span>   SITEID   —     dbl      range<span class="op">:</span><span class="st"> </span><span class="dv">214356</span> <span class="op">-</span><span class="st"> </span><span class="dv">214356</span>              </span>
<span id="cb3-5"><a href="#cb3-5"></a>   <span class="dv">3</span>   USUBJID  —     chr      range<span class="op">:</span><span class="st"> </span><span class="fl">987650.000001</span> <span class="op">-</span><span class="st"> </span><span class="fl">987650.000024</span></span>
<span id="cb3-6"><a href="#cb3-6"></a>   <span class="dv">4</span>   SUBJID   —     dbl      range<span class="op">:</span><span class="st"> </span><span class="dv">1</span> <span class="op">-</span><span class="st"> </span><span class="dv">24</span>                       </span>
<span id="cb3-7"><a href="#cb3-7"></a>   <span class="dv">5</span>   COUNTRY  —     chr      range<span class="op">:</span><span class="st"> </span>USA <span class="op">-</span><span class="st"> </span>USA                    </span>
<span id="cb3-8"><a href="#cb3-8"></a>   <span class="dv">6</span>   ACOUNTRY —     chr      range<span class="op">:</span><span class="st"> </span>UNITED STATES <span class="op">-</span><span class="st"> </span>UNITED STATES</span>
<span id="cb3-9"><a href="#cb3-9"></a>   <span class="dv">7</span>   AGE      —     dbl      range<span class="op">:</span><span class="st"> </span><span class="dv">27</span> <span class="op">-</span><span class="st"> </span><span class="dv">62</span>                      </span>
<span id="cb3-10"><a href="#cb3-10"></a>   <span class="dv">8</span>   AGEU     —     chr      range<span class="op">:</span><span class="st"> </span>YEARS <span class="op">-</span><span class="st"> </span>YEARS                </span>
<span id="cb3-11"><a href="#cb3-11"></a>   <span class="dv">9</span>   SEX      —     chr      range<span class="op">:</span><span class="st"> </span>F <span class="op">-</span><span class="st"> </span>M                        </span>
<span id="cb3-12"><a href="#cb3-12"></a>   <span class="dv">10</span>  RACE     —     chr      range<span class="op">:</span><span class="st"> </span>ASIAN <span class="op">-</span><span class="st"> </span>WHITE                </span>
<span id="cb3-13"><a href="#cb3-13"></a>   <span class="dv">11</span>  RACEN    —     dbl      range<span class="op">:</span><span class="st"> </span><span class="dv">1</span> <span class="op">-</span><span class="st"> </span><span class="dv">2</span>                        </span>
<span id="cb3-14"><a href="#cb3-14"></a>   <span class="dv">12</span>  WEIGHTBL —     dbl      range<span class="op">:</span><span class="st"> </span><span class="dv">56</span> <span class="op">-</span><span class="st"> </span><span class="dv">88</span>                      </span>
<span id="cb3-15"><a href="#cb3-15"></a>   <span class="dv">13</span>  TRT01A   —     chr      range<span class="op">:</span><span class="st"> </span>Active <span class="op">-</span><span class="st"> </span>Placebo             </span>
<span id="cb3-16"><a href="#cb3-16"></a>   <span class="dv">14</span>  TRT01AN  —     dbl      range<span class="op">:</span><span class="st"> </span><span class="dv">1</span> <span class="op">-</span><span class="st"> </span><span class="dv">2</span>                        </span>
<span id="cb3-17"><a href="#cb3-17"></a>   <span class="dv">15</span>  SAFFL    —     chr      range<span class="op">:</span><span class="st"> </span>Y <span class="op">-</span><span class="st"> </span>Y                        </span>
<span id="cb3-18"><a href="#cb3-18"></a>   <span class="dv">16</span>  SCRDT    —     date     range<span class="op">:</span><span class="st"> </span><span class="dv">2018-04-08</span> <span class="op">-</span><span class="st"> </span><span class="dv">2018-04-18</span>      </span>
<span id="cb3-19"><a href="#cb3-19"></a>   <span class="dv">17</span>  RANDDT   —     date     range<span class="op">:</span><span class="st"> </span><span class="dv">2018-04-08</span> <span class="op">-</span><span class="st"> </span><span class="dv">2018-04-18</span>      </span>
<span id="cb3-20"><a href="#cb3-20"></a>   <span class="dv">18</span>  TRTSDT   —     date     range<span class="op">:</span><span class="st"> </span><span class="dv">2018-04-08</span> <span class="op">-</span><span class="st"> </span><span class="dv">2018-04-18</span>      </span>
<span id="cb3-21"><a href="#cb3-21"></a>   <span class="dv">19</span>  TRTSTM   —     time     range<span class="op">:</span><span class="st"> </span><span class="dv">38820</span> <span class="op">-</span><span class="st"> </span><span class="dv">74700</span>                </span>
<span id="cb3-22"><a href="#cb3-22"></a>   <span class="dv">20</span>  TRTEDT   —     date     range<span class="op">:</span><span class="st"> </span><span class="dv">2018-04-16</span> <span class="op">-</span><span class="st"> </span><span class="dv">2018-05-01</span>      </span>
<span id="cb3-23"><a href="#cb3-23"></a>   <span class="dv">21</span>  TRTETM   —     time     range<span class="op">:</span><span class="st"> </span><span class="dv">33240</span> <span class="op">-</span><span class="st"> </span><span class="dv">54000</span>                </span>
<span id="cb3-24"><a href="#cb3-24"></a>   <span class="dv">22</span>  BRTHDT   —     date     range<span class="op">:</span><span class="st"> </span><span class="dv">1956-06-30</span> <span class="op">-</span><span class="st"> </span><span class="dv">1991-06-30</span>      </span>
<span id="cb3-25"><a href="#cb3-25"></a>   <span class="dv">23</span>  BRTHDTC  —     dbl      range<span class="op">:</span><span class="st"> </span><span class="dv">1956</span> <span class="op">-</span><span class="st"> </span><span class="dv">1991</span></span></code></pre></div>
<p><br></p>
<p>Using <code>xport_type</code> and the supplied specification file, we can <em>coerce</em> the variables in the <strong>adsl</strong> set to be either numeric or character. A message is given if variables were not coerced, this is due to the variables not being in the specification file.</p>
<p><br></p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="co"># .df &lt;- adsl %&gt;% mutate(`1BIGLong_Var` = "test")</span></span>
<span id="cb4-2"><a href="#cb4-2"></a>adsl_type &lt;-<span class="st"> </span><span class="kw">xportr_type</span>(<span class="dt">.df =</span> adsl, <span class="dt">metacore =</span>  var_spec, <span class="dt">domain =</span> <span class="st">"ADSL"</span>, <span class="dt">verbose =</span> <span class="st">"message"</span>) </span>
<span id="cb4-3"><a href="#cb4-3"></a>  Variable <span class="kw">type</span>(s) <span class="cf">in</span> <span class="st">`</span><span class="dt">.df</span><span class="st">`</span> don<span class="st">'t match metadata: `STUDYID`, `SITEID`, `USUBJID`, `SUBJID`, `COUNTRY`, `AGE`, `AGEU`, `SEX`, `RACE`, `WEIGHTBL`, `TRT01A`, `TRT01AN`, `SAFFL`, `RANDDT`, `TRTSDT`, and `TRTEDT` </span></span>
<span id="cb4-4"><a href="#cb4-4"></a><span class="st">  </span></span>
<span id="cb4-5"><a href="#cb4-5"></a><span class="st">  </span></span>
<span id="cb4-6"><a href="#cb4-6"></a><span class="st">  ──  [1m [1mVariable type mismatches found. [1m [22m ──</span></span>
<span id="cb4-7"><a href="#cb4-7"></a><span class="st">  </span></span>
<span id="cb4-8"><a href="#cb4-8"></a><span class="st">  </span></span>
<span id="cb4-9"><a href="#cb4-9"></a><span class="st">  </span></span>
<span id="cb4-10"><a href="#cb4-10"></a><span class="st">   [32m✔ [39m 16 variables coerced</span></span></code></pre></div>
<p><br></p>
<pre><code>   pos variable label col_type values                              
   1   STUDYID  —     chr      range: mid987650 - mid987650        
   2   SITEID   —     chr      range: 214356 - 214356              
   3   USUBJID  —     chr      range: 987650.000001 - 987650.000024
   4   SUBJID   —     chr      range: 1 - 9                        
   5   COUNTRY  —     chr      range: USA - USA                    
   6   ACOUNTRY —     chr      range: UNITED STATES - UNITED STATES
   7   AGE      —     dbl      range: 27 - 62                      
   8   AGEU     —     chr      range: YEARS - YEARS                
   9   SEX      —     chr      range: F - M                        
   10  RACE     —     chr      range: ASIAN - WHITE                
   11  RACEN    —     dbl      range: 1 - 2                        
   12  WEIGHTBL —     dbl      range: 56 - 88                      
   13  TRT01A   —     chr      range: Active - Placebo             
   14  TRT01AN  —     dbl      range: 1 - 2                        
   15  SAFFL    —     chr      range: Y - Y                        
   16  SCRDT    —     dbl      range: 17629 - 17639                
   17  RANDDT   —     dbl      range: 17629 - 17639                
   18  TRTSDT   —     dbl      range: 17629 - 17639                
   19  TRTSTM   —     dbl      range: 38820 - 74700                
   20  TRTEDT   —     dbl      range: 17637 - 17652                
   21  TRTETM   —     dbl      range: 33240 - 54000                
   22  BRTHDT   —     dbl      range: -4933 - 7850                 
   23  BRTHDTC  —     dbl      range: 1956 - 1991</code></pre>
</div>
<div class="section level2">
<h2 id="xportr_length">xportr_length<a class="anchor" aria-label="anchor" href="#xportr_length"></a>
</h2>
<p><br></p>
<p>Next we can apply the lengths from a variable level specification file to the data frame. <code>xportr_length</code> will identify variables that are missing from your specification file. The function will also alert you to how many lengths have been applied successfully. Before we apply the lengths lets verify that no lengths have been applied to the original dataframe.</p>
<p><br></p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="kw">capture.output</span>(<span class="kw">str</span>(adsl, <span class="dt">give.head=</span><span class="ot">TRUE</span>)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb6-2"><a href="#cb6-2"></a><span class="st">  </span><span class="kw">as_tibble</span>() <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb6-3"><a href="#cb6-3"></a><span class="st">  </span><span class="kw">head</span>(<span class="dt">n=</span><span class="dv">7</span>)</span>
<span id="cb6-4"><a href="#cb6-4"></a>   [<span class="dv">38</span>;<span class="dv">5</span>;246m<span class="co"># A tibble: 7 × 1 [39m</span></span>
<span id="cb6-5"><a href="#cb6-5"></a>    value                                                                         </span>
<span id="cb6-6"><a href="#cb6-6"></a>     [3m [<span class="dv">38</span>;<span class="dv">5</span>;246m<span class="op">&lt;</span>chr<span class="op">&gt;</span> [39m [23m                                                                         </span>
<span id="cb6-7"><a href="#cb6-7"></a>   [<span class="dv">38</span>;<span class="dv">5</span>;250m1 [39m  [<span class="dv">38</span>;<span class="dv">5</span>;246m<span class="st">" [39mtibble [24 × 23] (S3: tbl_df/tbl/data.frame) [38;5;246m"</span> [39m                                </span>
<span id="cb6-8"><a href="#cb6-8"></a>   [<span class="dv">38</span>;<span class="dv">5</span>;250m2 [39m  [<span class="dv">38</span>;<span class="dv">5</span>;246m<span class="st">" [39m $ STUDYID : chr [1:24] </span><span class="ch">\"</span><span class="st">mid987650</span><span class="ch">\"</span><span class="st"> </span><span class="ch">\"</span><span class="st">mid987650</span><span class="ch">\"</span><span class="st"> </span><span class="ch">\"</span><span class="st">mid987650</span><span class="ch">\"</span><span class="st"> </span><span class="ch">\"</span><span class="st">mid98765…</span></span>
<span id="cb6-9"><a href="#cb6-9"></a><span class="st">   [38;5;250m3 [39m  [38;5;246m"</span> [39m  ..<span class="op">-</span><span class="st"> </span><span class="kw">attr</span>(<span class="op">*</span>, \<span class="st">"format.sas</span><span class="ch">\"</span><span class="st">)= chr </span><span class="ch">\"</span><span class="st">$</span><span class="ch">\"</span><span class="st"> [38;5;246m"</span> [39m                                    </span>
<span id="cb6-10"><a href="#cb6-10"></a>   [<span class="dv">38</span>;<span class="dv">5</span>;250m4 [39m  [<span class="dv">38</span>;<span class="dv">5</span>;246m<span class="st">" [39m $ SITEID  : num [1:24] 214356 214356 214356 214356 214356 ... [38;5;246m"</span> [39m              </span>
<span id="cb6-11"><a href="#cb6-11"></a>   [<span class="dv">38</span>;<span class="dv">5</span>;250m5 [39m  [<span class="dv">38</span>;<span class="dv">5</span>;246m<span class="st">" [39m  ..- attr(*, </span><span class="ch">\"</span><span class="st">format.sas</span><span class="ch">\"</span><span class="st">)= chr </span><span class="ch">\"</span><span class="st">BEST</span><span class="ch">\"</span><span class="st"> [38;5;246m"</span> [39m                                 </span>
<span id="cb6-12"><a href="#cb6-12"></a>   [<span class="dv">38</span>;<span class="dv">5</span>;250m6 [39m  [<span class="dv">38</span>;<span class="dv">5</span>;246m<span class="st">" [39m $ USUBJID : chr [1:24] </span><span class="ch">\"</span><span class="st">987650.000001</span><span class="ch">\"</span><span class="st"> </span><span class="ch">\"</span><span class="st">987650.000002</span><span class="ch">\"</span><span class="st"> </span><span class="ch">\"</span><span class="st">987650.000003\…</span></span>
<span id="cb6-13"><a href="#cb6-13"></a><span class="st">   [38;5;250m7 [39m  [38;5;246m"</span> [39m  ..<span class="op">-</span><span class="st"> </span><span class="kw">attr</span>(<span class="op">*</span>, \<span class="st">"format.sas</span><span class="ch">\"</span><span class="st">)= chr </span><span class="ch">\"</span><span class="st">$</span><span class="ch">\"</span><span class="st"> [38;5;246m"</span> [39m</span></code></pre></div>
<p><br></p>
<p>No lengths have been applied to the variables as seen in the printout for the first 3 variables. Let’s now use <code>xportr_length</code> to apply our lengths from the specification file.</p>
<p><br></p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a>adsl_length &lt;-<span class="st"> </span>adsl <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">xportr_length</span>(var_spec, <span class="st">"ADSL"</span>, <span class="st">"message"</span>)</span>
<span id="cb7-2"><a href="#cb7-2"></a>  </span>
<span id="cb7-3"><a href="#cb7-3"></a>  ──  [1m [1mVariable lengths missing from metadata. [1m [22m ──</span>
<span id="cb7-4"><a href="#cb7-4"></a>  </span>
<span id="cb7-5"><a href="#cb7-5"></a>   [32m✔ [39m <span class="dv">7</span> lengths resolved</span>
<span id="cb7-6"><a href="#cb7-6"></a>  <span class="kw">Variable</span>(s) present <span class="cf">in</span> <span class="st">`</span><span class="dt">.df</span><span class="st">`</span> but doesn<span class="st">'t exist in `metacore`.</span></span>
<span id="cb7-7"><a href="#cb7-7"></a><span class="st">   [31m✖ [39m Problem with `ACOUNTRY`, `RACEN`, `SCRDT`, `TRTSTM`, `TRTETM`, `BRTHDT`, and `BRTHDTC`</span></span></code></pre></div>
<p><br></p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="kw">capture.output</span>(<span class="kw">str</span>(adsl_length, <span class="dt">give.head=</span><span class="ot">TRUE</span>)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb8-2"><a href="#cb8-2"></a><span class="st">  </span><span class="kw">as_tibble</span>() <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb8-3"><a href="#cb8-3"></a><span class="st">  </span><span class="kw">head</span>(<span class="dt">n=</span><span class="dv">7</span>)</span>
<span id="cb8-4"><a href="#cb8-4"></a>   [<span class="dv">38</span>;<span class="dv">5</span>;246m<span class="co"># A tibble: 7 × 1 [39m</span></span>
<span id="cb8-5"><a href="#cb8-5"></a>    value                                                                         </span>
<span id="cb8-6"><a href="#cb8-6"></a>     [3m [<span class="dv">38</span>;<span class="dv">5</span>;246m<span class="op">&lt;</span>chr<span class="op">&gt;</span> [39m [23m                                                                         </span>
<span id="cb8-7"><a href="#cb8-7"></a>   [<span class="dv">38</span>;<span class="dv">5</span>;250m1 [39m  [<span class="dv">38</span>;<span class="dv">5</span>;246m<span class="st">" [39mtibble [24 × 23] (S3: tbl_df/tbl/data.frame) [38;5;246m"</span> [39m                                </span>
<span id="cb8-8"><a href="#cb8-8"></a>   [<span class="dv">38</span>;<span class="dv">5</span>;250m2 [39m  [<span class="dv">38</span>;<span class="dv">5</span>;246m<span class="st">" [39m $ STUDYID : chr [1:24] </span><span class="ch">\"</span><span class="st">mid987650</span><span class="ch">\"</span><span class="st"> </span><span class="ch">\"</span><span class="st">mid987650</span><span class="ch">\"</span><span class="st"> </span><span class="ch">\"</span><span class="st">mid987650</span><span class="ch">\"</span><span class="st"> </span><span class="ch">\"</span><span class="st">mid98765…</span></span>
<span id="cb8-9"><a href="#cb8-9"></a><span class="st">   [38;5;250m3 [39m  [38;5;246m"</span> [39m  ..<span class="op">-</span><span class="st"> </span><span class="kw">attr</span>(<span class="op">*</span>, \<span class="st">"format.sas</span><span class="ch">\"</span><span class="st">)= chr </span><span class="ch">\"</span><span class="st">$</span><span class="ch">\"</span><span class="st"> [38;5;246m"</span> [39m                                    </span>
<span id="cb8-10"><a href="#cb8-10"></a>   [<span class="dv">38</span>;<span class="dv">5</span>;250m4 [39m  [<span class="dv">38</span>;<span class="dv">5</span>;246m<span class="st">" [39m  ..- attr(*, </span><span class="ch">\"</span><span class="st">width</span><span class="ch">\"</span><span class="st">)= num 21 [38;5;246m"</span> [39m                                            </span>
<span id="cb8-11"><a href="#cb8-11"></a>   [<span class="dv">38</span>;<span class="dv">5</span>;250m5 [39m  [<span class="dv">38</span>;<span class="dv">5</span>;246m<span class="st">" [39m $ SITEID  : num [1:24] 214356 214356 214356 214356 214356 ... [38;5;246m"</span> [39m              </span>
<span id="cb8-12"><a href="#cb8-12"></a>   [<span class="dv">38</span>;<span class="dv">5</span>;250m6 [39m  [<span class="dv">38</span>;<span class="dv">5</span>;246m<span class="st">" [39m  ..- attr(*, </span><span class="ch">\"</span><span class="st">format.sas</span><span class="ch">\"</span><span class="st">)= chr </span><span class="ch">\"</span><span class="st">BEST</span><span class="ch">\"</span><span class="st"> [38;5;246m"</span> [39m                                 </span>
<span id="cb8-13"><a href="#cb8-13"></a>   [<span class="dv">38</span>;<span class="dv">5</span>;250m7 [39m  [<span class="dv">38</span>;<span class="dv">5</span>;246m<span class="st">" [39m  ..- attr(*, </span><span class="ch">\"</span><span class="st">width</span><span class="ch">\"</span><span class="st">)= num 5 [38;5;246m"</span> [39m</span></code></pre></div>
<p><br></p>
<p>Lengths have been successfully applied as viewed for the first 3 variables.</p>
</div>
<div class="section level2">
<h2 id="xportr_label">xportr_label<a class="anchor" aria-label="anchor" href="#xportr_label"></a>
</h2>
<p><br></p>
<p>Please observe that our <strong>adsl</strong> data does not have any labels associated with it. A CDISC compliant data set needs to have each variable with a variable label.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="kw">look_for</span>(adsl, <span class="dt">details =</span> <span class="ot">FALSE</span>)</span>
<span id="cb9-2"><a href="#cb9-2"></a>   pos variable label</span>
<span id="cb9-3"><a href="#cb9-3"></a>    <span class="dv">1</span>  STUDYID  —    </span>
<span id="cb9-4"><a href="#cb9-4"></a>    <span class="dv">2</span>  SITEID   —    </span>
<span id="cb9-5"><a href="#cb9-5"></a>    <span class="dv">3</span>  USUBJID  —    </span>
<span id="cb9-6"><a href="#cb9-6"></a>    <span class="dv">4</span>  SUBJID   —    </span>
<span id="cb9-7"><a href="#cb9-7"></a>    <span class="dv">5</span>  COUNTRY  —    </span>
<span id="cb9-8"><a href="#cb9-8"></a>    <span class="dv">6</span>  ACOUNTRY —    </span>
<span id="cb9-9"><a href="#cb9-9"></a>    <span class="dv">7</span>  AGE      —    </span>
<span id="cb9-10"><a href="#cb9-10"></a>    <span class="dv">8</span>  AGEU     —    </span>
<span id="cb9-11"><a href="#cb9-11"></a>    <span class="dv">9</span>  SEX      —    </span>
<span id="cb9-12"><a href="#cb9-12"></a>   <span class="dv">10</span>  RACE     —    </span>
<span id="cb9-13"><a href="#cb9-13"></a>   <span class="dv">11</span>  RACEN    —    </span>
<span id="cb9-14"><a href="#cb9-14"></a>   <span class="dv">12</span>  WEIGHTBL —    </span>
<span id="cb9-15"><a href="#cb9-15"></a>   <span class="dv">13</span>  TRT01A   —    </span>
<span id="cb9-16"><a href="#cb9-16"></a>   <span class="dv">14</span>  TRT01AN  —    </span>
<span id="cb9-17"><a href="#cb9-17"></a>   <span class="dv">15</span>  SAFFL    —    </span>
<span id="cb9-18"><a href="#cb9-18"></a>   <span class="dv">16</span>  SCRDT    —    </span>
<span id="cb9-19"><a href="#cb9-19"></a>   <span class="dv">17</span>  RANDDT   —    </span>
<span id="cb9-20"><a href="#cb9-20"></a>   <span class="dv">18</span>  TRTSDT   —    </span>
<span id="cb9-21"><a href="#cb9-21"></a>   <span class="dv">19</span>  TRTSTM   —    </span>
<span id="cb9-22"><a href="#cb9-22"></a>   <span class="dv">20</span>  TRTEDT   —    </span>
<span id="cb9-23"><a href="#cb9-23"></a>   <span class="dv">21</span>  TRTETM   —    </span>
<span id="cb9-24"><a href="#cb9-24"></a>   <span class="dv">22</span>  BRTHDT   —    </span>
<span id="cb9-25"><a href="#cb9-25"></a>   <span class="dv">23</span>  BRTHDTC  —</span></code></pre></div>
<p><br></p>
<p>Using the <code>xport_label</code> function we can take the specifications file and label all the variables available. <code>xportr_label</code> will produce a warning message if you the variable in the data set is not in the specification file.</p>
<p><br></p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a>adsl_update &lt;-<span class="st"> </span>adsl <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">xportr_label</span>(var_spec, <span class="st">"ADSL"</span>, <span class="st">"message"</span>)</span>
<span id="cb10-2"><a href="#cb10-2"></a>  </span>
<span id="cb10-3"><a href="#cb10-3"></a>  ──  [1m [1mVariable labels missing from metadata. [1m [22m ──</span>
<span id="cb10-4"><a href="#cb10-4"></a>  </span>
<span id="cb10-5"><a href="#cb10-5"></a>   [32m✔ [39m <span class="dv">7</span> labels skipped</span>
<span id="cb10-6"><a href="#cb10-6"></a>  <span class="kw">Variable</span>(s) present <span class="cf">in</span> <span class="st">`</span><span class="dt">.df</span><span class="st">`</span> but doesn<span class="st">'t exist in `metacore`.</span></span>
<span id="cb10-7"><a href="#cb10-7"></a><span class="st">   [31m✖ [39m Problem with `ACOUNTRY`, `RACEN`, `SCRDT`, `TRTSTM`, `TRTETM`, `BRTHDT`, and `BRTHDTC`</span></span>
<span id="cb10-8"><a href="#cb10-8"></a><span class="st">  Warning: Length of variable label must be 40 characters or less.</span></span>
<span id="cb10-9"><a href="#cb10-9"></a><span class="st">   [31m✖ [39m Problem with `BMIBLG1N` and `EXACSTDD`.</span></span></code></pre></div>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a><span class="kw">look_for</span>(adsl_update, <span class="dt">details =</span> <span class="ot">FALSE</span>)</span>
<span id="cb11-2"><a href="#cb11-2"></a>   pos variable label                              </span>
<span id="cb11-3"><a href="#cb11-3"></a>    <span class="dv">1</span>  STUDYID  Study Identifier                   </span>
<span id="cb11-4"><a href="#cb11-4"></a>    <span class="dv">2</span>  SITEID   Study Site Identifier              </span>
<span id="cb11-5"><a href="#cb11-5"></a>    <span class="dv">3</span>  USUBJID  Unique Subject Identifier          </span>
<span id="cb11-6"><a href="#cb11-6"></a>    <span class="dv">4</span>  SUBJID   Subject Identifier <span class="cf">for</span> the Study   </span>
<span id="cb11-7"><a href="#cb11-7"></a>    <span class="dv">5</span>  COUNTRY  Country                            </span>
<span id="cb11-8"><a href="#cb11-8"></a>    <span class="dv">6</span>  ACOUNTRY                                    </span>
<span id="cb11-9"><a href="#cb11-9"></a>    <span class="dv">7</span>  AGE      Age                                </span>
<span id="cb11-10"><a href="#cb11-10"></a>    <span class="dv">8</span>  AGEU     Age Units                          </span>
<span id="cb11-11"><a href="#cb11-11"></a>    <span class="dv">9</span>  SEX      Sex                                </span>
<span id="cb11-12"><a href="#cb11-12"></a>   <span class="dv">10</span>  RACE     Race                               </span>
<span id="cb11-13"><a href="#cb11-13"></a>   <span class="dv">11</span>  RACEN                                       </span>
<span id="cb11-14"><a href="#cb11-14"></a>   <span class="dv">12</span>  WEIGHTBL Baseline Weight                    </span>
<span id="cb11-15"><a href="#cb11-15"></a>   <span class="dv">13</span>  TRT01A   Actual Treatment <span class="cf">for</span> Period <span class="dv">01</span>     </span>
<span id="cb11-16"><a href="#cb11-16"></a>   <span class="dv">14</span>  TRT01AN  Actual Treatment <span class="cf">for</span> Period <span class="dv">01</span> (N) </span>
<span id="cb11-17"><a href="#cb11-17"></a>   <span class="dv">15</span>  SAFFL    Safety Population Flag             </span>
<span id="cb11-18"><a href="#cb11-18"></a>   <span class="dv">16</span>  SCRDT                                       </span>
<span id="cb11-19"><a href="#cb11-19"></a>   <span class="dv">17</span>  RANDDT   Date of Randomization              </span>
<span id="cb11-20"><a href="#cb11-20"></a>   <span class="dv">18</span>  TRTSDT   Date of First Exposure to Treatment</span>
<span id="cb11-21"><a href="#cb11-21"></a>   <span class="dv">19</span>  TRTSTM                                      </span>
<span id="cb11-22"><a href="#cb11-22"></a>   <span class="dv">20</span>  TRTEDT   Date of Last Exposure to Treatment </span>
<span id="cb11-23"><a href="#cb11-23"></a>   <span class="dv">21</span>  TRTETM                                      </span>
<span id="cb11-24"><a href="#cb11-24"></a>   <span class="dv">22</span>  BRTHDT                                      </span>
<span id="cb11-25"><a href="#cb11-25"></a>   <span class="dv">23</span>  BRTHDTC</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="xportr_df_label">xportr_df_label<a class="anchor" aria-label="anchor" href="#xportr_df_label"></a>
</h2>
<p><br></p>
<p>An appropriate data set label must be supplied as well. Currently, the <strong>adsl</strong> data set has the label <em>ADSL</em>, but it needs the label <em>Subject-Level Analysis Dataset</em> to be compliant with most clinical data set validator application. Here we make use of the data_spec object to supply the apropriate label for the <strong>adsl</strong> data set.</p>
<div class="section level5">
<h5 id="option1">Option1<a class="anchor" aria-label="anchor" href="#option1"></a>
</h5>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="kw">capture.output</span>(<span class="kw">str</span>(adsl))[<span class="dv">45</span>]</span>
<span id="cb12-2"><a href="#cb12-2"></a>  [<span class="dv">1</span>] <span class="ot">NA</span></span></code></pre></div>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">adsl_df_lbl</span> <span class="op">&lt;-</span> <span class="va">adsl</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="../reference/xportr_df_label.html">xportr_df_label</a></span><span class="op">(</span><span class="va">data_spec</span>, <span class="st">"ADSL"</span><span class="op">)</span>
<span class="va">adsl</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">xportr_varnames</span><span class="op">(</span><span class="st">"message"</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/attr.html" class="external-link">attr</a></span><span class="op">(</span><span class="va">adsl</span>, <span class="st">"label"</span><span class="op">)</span></code></pre></div>
<p><br></p>
</div>
</div>
<div class="section level2">
<h2 id="xportr_varnames">xportr_varnames<a class="anchor" aria-label="anchor" href="#xportr_varnames"></a>
</h2>
<p><br></p>
<p>This is a development feature, not currently implemented.</p>
<p>There are several constraints placed upon variable naming. According to modern CDISC Implementation guides and the latest <a href="https://www.fda.gov/media/136460/download" class="external-link">FDA conformance guide</a>, all ADaM variable names must be:</p>
<ol style="list-style-type: decimal">
<li><p>no more than 8 characters in length</p></li>
<li><p>start with a letter (not an underscore)</p></li>
<li><p>be comprised of only uppercase letters (A-Z), numerals (0-9)</p></li>
<li><p>free of non-ASCII text, symbols, or underscores. Note: Underscores are permitted only for legacy studies started on or before Dec 17th, 2016</p></li>
</ol>
<p>For strings containing variable names <code>xportr_tidy_rename()</code> was designed to identify and rename variables into compliance. Thus, you can use this function to rename the spec file variables or column names on the fly. Below, we use it’s default options to tidy names for submission compliance.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">renamed_var_spec</span> <span class="op">&lt;-</span> <span class="va">var_spec</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">dataset</span> <span class="op">==</span> <span class="st">"ADSL"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>tidy_variable <span class="op">=</span> <span class="fu">xportr_tidy_rename</span><span class="op">(</span><span class="va">variable</span><span class="op">)</span>
  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">order</span>, <span class="va">dataset</span>, <span class="va">variable</span>, <span class="va">tidy_variable</span>, <span class="fu">tidyselect</span><span class="fu">::</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/everything.html" class="external-link">everything</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p>Note the above messages detail the rule(s) and variable names that were out of compliance, the number of renamed variables, and even the old and newly tidied names. The function uses a step-wise renaming algorithm to maintain the original variable names characteristics as much as possible. Below is the view of the the old variable names juxtaposed the new.</p>
<p><br></p>
<p>The function <code>xportr_varnames()</code> takes <code>xportr_tidy_rename</code> a step further to help users change the data.frame columns directly. It also is slightly less flexible from a customization perspective, attempting to follow the submission constraints precisely where as <code>xportr_tidy_rename</code> can be used for a wider breadth of renaming applications. Executing the code below, we create a new data.frame called <code>adsl_renamed</code>, but the variable names are already compliant. The <code>identical</code> function below shows us that nothing has changed.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">adsl_renamed</span> <span class="op">&lt;-</span> <span class="va">adsl</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">xportr_varnames</span><span class="op">(</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/identical.html" class="external-link">identical</a></span><span class="op">(</span><span class="va">adsl</span>, <span class="va">adsl_renamed</span><span class="op">)</span></code></pre></div>
<p>In the interest of showcasing <code>xportr_varnames</code> capabilities, we create a fictional data.frame <code>adxx</code> riddled with non-compliant variable names below. In fact, <code>adxx</code> only has one valid variable name: “STUDYID”. Calling the function shows this data.frame’s variables violate all four compliance rules and proceeds to rename all but “STUDYID”.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">varnames</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">""</span>, <span class="st">"STUDYID"</span>, <span class="st">"studyid"</span>, <span class="st">"subject id"</span>, <span class="st">"1c. ENT"</span>, <span class="st">"1b. Eyes"</span>,
      <span class="st">"1d. Lungs"</span>, <span class="st">"1e. Heart"</span>, <span class="st">"year number"</span>, <span class="st">"1a. Skin_Desc"</span><span class="op">)</span>
<span class="va">adxx</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fl">0</span>, ncol <span class="op">=</span> <span class="fl">10</span>, nrow <span class="op">=</span> <span class="fl">3</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">adxx</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">varnames</span>

<span class="fu">xportr_varnames</span><span class="op">(</span><span class="va">adxx</span><span class="op">)</span> <span class="co"># default behavior</span></code></pre></div>
<p>You may have observed in the previous output that all variables starting with a number were bundled and relocated to the END of the term. For example, 1d. Lungs" became “LUNGS1D”. To maintain the numeric prefix at the start (or left-hand side), users can set a letter [A-Z] to prefix the numeric prefix. Below we set <code>letter_for_num_prefix</code> to “x” and <code>relo_2_end</code> to <code>FALSE</code>.</p>
<p>Second, if your organization holds an ontology of controlled terms, you can then map non-compliant variable names to any desired result using the <code>dict_dat</code> argument. It’s essentially provides a “find any replace” functionality for any instance of the term(s) found in the data. In the example below, we want “subject id” to be portrayed as “SUBJID”. Thus, we created a data.frame called <code>my_dictionary</code> that maps that relationship.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">my_dictionary</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>original_varname <span class="op">=</span> <span class="st">"subject id"</span>, dict_varname <span class="op">=</span> <span class="st">"SUBJID"</span><span class="op">)</span>
<span class="fu">xportr_varnames</span><span class="op">(</span><span class="va">adxx</span>,
                   relo_2_end <span class="op">=</span> <span class="cn">FALSE</span>,
                   letter_for_num_prefix <span class="op">=</span> <span class="st">"x"</span>,
                   dict_dat  <span class="op">=</span> <span class="va">my_dictionary</span><span class="op">)</span> <span class="co"># 'SUBJID' used</span></code></pre></div>
<p>Please review the documentation using <code>?xportr_tidy_rename</code> OR <code>?xportr_varnames</code> to learn how the abbreviation algorithm works and to further customize the renaming of your variable names using a slurry of additional arguments.</p>
<p><br></p>
</div>
<div class="section level2">
<h2 id="xportr_write">xportr_write<a class="anchor" aria-label="anchor" href="#xportr_write"></a>
</h2>
<p><br></p>
<p>Finally, we arrive at exporting the R data frame object as a xpt file with the function <code>xportr_write</code>. The xpt file will be written directly to your current working directory. To make it more interesting, we have put together all five function with the magrittr pipe. A user can now coerce, apply length, variable labels, data set label and write out their final xpt file in one pipe! Appropriate warnings and messages will be supplied to a user for any potential issues before sending off to standard clinical data set validator application or data reviewers.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R">  
<span class="va">adsl</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/xportr_type.html">xportr_type</a></span><span class="op">(</span><span class="va">var_spec</span>, <span class="st">"ADSL"</span>, <span class="st">"message"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/xportr_length.html">xportr_length</a></span><span class="op">(</span><span class="va">var_spec</span>, <span class="st">"ADSL"</span>, <span class="st">"message"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/xportr_label.html">xportr_label</a></span><span class="op">(</span><span class="va">var_spec</span>, <span class="st">"ADSL"</span>, <span class="st">"message"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/xportr_df_label.html">xportr_df_label</a></span><span class="op">(</span><span class="va">data_spec</span>, <span class="st">"ADSL"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu">xportr_varnames</span><span class="op">(</span><span class="st">"message"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/xportr_write.html">xportr_write</a></span><span class="op">(</span><span class="st">"adsl.xpt"</span><span class="op">)</span></code></pre></div>
<p>Optionally, leave out xportr_varnames and instead use <code>tidy_varnames = TRUE</code> in xportr_write() to accept the recommended defaults of <code>xportr_tidy_rename</code>.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># No xportr_varnames()!</span>
<span class="va">adsl</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/xportr_type.html">xportr_type</a></span><span class="op">(</span><span class="va">var_spec</span>, <span class="st">"ADSL"</span>, <span class="st">"message"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/xportr_length.html">xportr_length</a></span><span class="op">(</span><span class="va">var_spec</span>, <span class="st">"ADSL"</span>, <span class="st">"message"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/xportr_label.html">xportr_label</a></span><span class="op">(</span><span class="va">var_spec</span>, <span class="st">"ADSL"</span>, <span class="st">"message"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/xportr_df_label.html">xportr_df_label</a></span><span class="op">(</span><span class="va">data_spec</span>, <span class="st">"ADSL"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/xportr_write.html">xportr_write</a></span><span class="op">(</span><span class="st">"adsl.xpt"</span>, tidy_varnames <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Eli Miller, Vignesh Thanikachalam, Ben Straub, Ross Didenko.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
